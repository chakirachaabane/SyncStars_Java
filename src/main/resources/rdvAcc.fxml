<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="700.0" prefWidth="888.0" style="-fx-background-color: white;" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.esprit.controllers.rdvAcc">
    <children>

        <ImageView fitHeight="700.0" fitWidth="888.0">
            <image>
                <Image url="/images/backgroundRDV.jpg" />
            </image>
        </ImageView>
        <Rectangle accessibleRole="BUTTON" arcHeight="5.0" arcWidth="5.0" fill="#dff2e7" height="700.0" opacity="0.5" stroke="#dff2e7" strokeType="INSIDE" width="888.0" />
        <HBox prefHeight="62.0" prefWidth="900.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
            <children>
                <Button mnemonicParsing="false" onAction="#showAccueilSwitch" opacity="0.8" prefHeight="38.0" prefWidth="82.0" styleClass="navBarBtn" stylesheets="@frontUserStyle.css" text="Accueil " />
                <Button mnemonicParsing="false" onAction="#showProductsSwitch" opacity="0.8" prefHeight="38.0" prefWidth="86.0" styleClass="navBarBtn" stylesheets="@frontUserStyle.css" text="Produits" />
                <Button mnemonicParsing="false" onAction="#displayEventSwitch1" opacity="0.8" prefHeight="37.0" prefWidth="113.0" styleClass="navBarBtn" stylesheets="@frontUserStyle.css" text="Evènements" />
                <Button mnemonicParsing="false" onAction="#displayRdvSwitch1" opacity="0.8" prefHeight="38.0" prefWidth="118.0" styleClass="navBarBtn" stylesheets="@frontUserStyle.css" text="Réservations" />
                <Button mnemonicParsing="false" onAction="#displayEntSwitch1" opacity="0.8" prefHeight="38.0" prefWidth="129.0" styleClass="navBarBtn" stylesheets="@frontUserStyle.css" text="Entrainements" />
                <Button mnemonicParsing="false" onAction="#ShowForumSwitch1" opacity="0.8" prefHeight="38.0" prefWidth="79.0" styleClass="navBarBtn" stylesheets="@frontUserStyle.css" text="Forums" />
            </children>
            <opaqueInsets>
                <Insets left="20.0" right="20.0" />
            </opaqueInsets>
        </HBox>
        <ImageView fx:id="imageViewUser" fitHeight="50.0" fitWidth="50.0" layoutX="660.0" layoutY="6.0" pickOnBounds="true" preserveRatio="true">
            <clip>
                <Rectangle arcHeight="50" arcWidth="50" height="50" width="50" />
            </clip>
        </ImageView>
        <ComboBox fx:id="comboBoxUser" layoutX="670.0" layoutY="9.0" opacity="0.9" prefHeight="34.0" prefWidth="179.0" style="-fx-text-fill: #18593b; -fx-font-family: 'Dubai Bold'; -fx-font-size: 13px;">
            <effect>
                <InnerShadow>
                    <color>
                        <Color blue="0.10488303750753403" green="0.5368421077728271" red="0.06561403721570969" />
                    </color>
                </InnerShadow>
            </effect>
        </ComboBox>
        <Label fx:id="userNameTf" layoutX="687.0" layoutY="13.0" opacity="0.8" prefHeight="26.0" prefWidth="144.0" textFill="#18593b">
            <font>
                <Font name="Dubai Bold" size="13.0" />
            </font>
        </Label>

        <!-- Pane for appointment space -->
        <Pane layoutX="166.0" layoutY="154.0" prefHeight="343.0" prefWidth="558.0" style="-fx-background-color: rgba(105, 191, 167, 0.8); -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #69BFA7; -fx-border-width: 5;">
            <children>

                <!-- Buttons for different actions -->
                <Button fx:id="prendreRdvButton" layoutX="199.0" layoutY="119.0" mnemonicParsing="false" onAction="#showChatBubble" prefHeight="39.0" prefWidth="171.0" style="-fx-background-radius: 10; -fx-background-color: linear-gradient(to bottom, #69BFA7, #18593B); -fx-text-fill: white;">
                    <font>
                        <Font name="System Bold" size="18.0" />
                    </font>
                    <effect>
                        <InnerShadow color="#69BFA7" radius="5" />
                    </effect>
                    <text>Prendre un RDV</text>
                </Button>
                <Button fx:id="ConsulterRdvButton" layoutX="170.0" layoutY="172.0" mnemonicParsing="false" prefHeight="39.0" prefWidth="228.0" style="-fx-background-radius: 10; -fx-background-color: linear-gradient(to bottom, #69BFA7, #18593B); -fx-text-fill: white;" text="Consulter Planning RDV">
                    <font>
                        <Font name="System Bold" size="18.0" />
                    </font>
                    <effect>
                        <InnerShadow color="#69BFA7" radius="5" />
                    </effect>
                </Button>
                <Button fx:id="EspaceRecetteButton" layoutX="149.0" layoutY="225.0" mnemonicParsing="false" prefHeight="39.0" prefWidth="270.0" style="-fx-background-radius: 10; -fx-background-color: linear-gradient(to bottom, #69BFA7, #18593B); -fx-text-fill: white;" text="Consulter espace recettes">
                    <font>
                        <Font name="System Bold" size="18.0" />
                    </font>
                    <effect>
                        <InnerShadow color="#69BFA7" radius="5" />
                    </effect>
                </Button>

                <!-- Title Label -->
                <Label layoutX="70.0" layoutY="30.0" prefHeight="59.0" prefWidth="405.0" text="Espace Rendez-vous" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="41.0" />
                    </font>
                    <effect>
                        <DropShadow color="#006400" radius="5" spread="0.5" />
                    </effect>
                </Label>
            </children>
        </Pane>

        <!-- Chatbot Circle -->
        <Circle fx:id="chatbotCircle" fill="#18593b" layoutX="843.0" layoutY="651.0" radius="35.0" />

        <!-- Chat Bubble -->
        <Pane fx:id="chatBubble" layoutX="800.0" layoutY="429.0" prefHeight="167.0" prefWidth="190.0" style="-fx-background-color: #FFFFFF; -fx-border-color: #18593b; -fx-background-radius: 20; -fx-border-radius: 20; -fx-effect: dropshadow(three-pass-box, rgb(105,191,167), 10, 0, 0, 0);" visible="false" AnchorPane.rightAnchor="20.0">
            <!-- Content of the chat bubble -->
            <Label fx:id="responseLabel" style="-fx-padding: 10px; -fx-font-size: 16px;" text="" textFill="#18593b" />

            <VBox alignment="CENTER" layoutX="10.0" layoutY="20.0" spacing="10">
                <Button fx:id="question1Button" mnemonicParsing="false" onAction="#handleQuestion1" style="-fx-background-color: #69BFA7; -fx-text-fill: #18593b; -fx-background-radius: 20;" text="Quels sont vos horaires ?" />
                <Button fx:id="question2Button" mnemonicParsing="false" onAction="#handleQuestion2" style="-fx-background-color: #69BFA7; -fx-text-fill: #18593b; -fx-background-radius: 20;" text="Comment prendre un RDV ?" />
                <Button fx:id="question3Button" mnemonicParsing="false" onAction="#handleQuestion3" style="-fx-background-color: #69BFA7; -fx-text-fill: #18593b; -fx-background-radius: 20;" text="Qui est derrière AlignVibe ?" />
                <Button fx:id="question4Button" mnemonicParsing="false" onAction="#handleQuestion3" style="-fx-background-color: #69BFA7; -fx-text-fill: #18593b; -fx-background-radius: 20;" text="Autre question ?" />
            </VBox>
        </Pane>
        <!-- Insert your gif here -->
        <ImageView fx:id="firstGifImageView" fitHeight="122.0" fitWidth="118.0" layoutX="772.0" layoutY="574.0" onMouseClicked="#showChatBubble">
            <image>
                <Image url="/images/gif 9.gif" />
            </image>
        </ImageView>
        <!-- Second gif to display when the chat bubble appears -->
        <ImageView fx:id="secondGifImageView" fitHeight="122.0" fitWidth="118.0" layoutX="772.0" layoutY="574.0" onMouseClicked="#showFirstGif" visible="true">
            <image>
                <Image url="/images/gif-8.gif" />
            </image>
        </ImageView>
        <!-- Floating message label -->
        <Label fx:id="floatingMessage" layoutX="660.0" layoutY="574.0" style="-fx-background-color: #18593b; -fx-text-fill: white; -fx-padding: 15px; -fx-border-radius: 20px; -fx-background-radius: 20px; -fx-font-size: 16px;" text="Besoin d'aide ?" visible="false">
        </Label>

    </children>
</AnchorPane>
